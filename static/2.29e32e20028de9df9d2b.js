(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{48:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"messagebox",class:"messagebox_"+e.type},[r("div",{staticClass:"messagebox_buttons"},[r("a",{staticClass:"close",attrs:{href:"#",title:"Nachrichtenbox schliessen"},on:{click:function(t){return t.stopPropagation(),e.hide(t)}}},[r("span",[e._v("Nachrichtenbox schliessen")])])]),e._v(" "),r("div",[e._t("default",[e._v("Message")])],2)])};s._withStripped=!0;var a={name:"MessageBox",props:{type:{type:String},timer:{type:Number,required:!1,default:0}},methods:{hide(){this.$emit("hide")}},created(){if(this.timer){var e=this;setTimeout((function(){e.hide()}),this.timer)}}},i=r(5),n=Object(i.a)(a,s,[],!1,null,null,null);n.options.__file="vueapp/components/MessageBox.vue";t.a=n.exports},49:function(e,t,r){"use strict";var s=function(){var e=this.$createElement;return(this._self._c||e)("button",{staticClass:"button",class:[this.icon],attrs:{type:this.type,name:this.name},on:{click:this.onClick}},[this._t("default",[this._v("ButtonLabel")])],2)};s._withStripped=!0;var a={name:"StudipButton",props:{name:{type:String},icon:{type:String,validator:e=>["","accept","cancel","edit","move-up","move-down","add","download","search"].includes(e),default:""},type:{type:String,required:!1,default:"submit"}},methods:{onClick(){this.$emit("click")}}},i=r(5),n=Object(i.a)(a,s,[],!1,null,null,null);n.options.__file="vueapp/components/StudipButton.vue";t.a=n.exports},50:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{class:"tooltip "+(e.important?" tooltip-important":"")+(e.badge?" meeting-badge":" tooltip-icon"),attrs:{"data-tooltip":"",title:e.html?"":e.text}},[e.html&&!e.badge?r("span",{staticClass:"tooltip-content"},[e._v(e._s(e.text))]):e.badge?e._t("default"):e._e()],2)};s._withStripped=!0;var a={name:"StudipTooltipIcon",props:{text:{type:String,required:!0},important:{type:Boolean,required:!1,default:!1},html:{type:Boolean,required:!1,default:!1},badge:{type:Boolean,required:!1,default:!1}},data:()=>({}),computed:{}},i=r(5),n=Object(i.a)(a,s,[],!1,null,null,null);n.options.__file="vueapp/components/StudipTooltipIcon.vue";t.a=n.exports},51:function(e,t,r){"use strict";var s=function(){var e=this.$createElement;return(this._self._c||e)("img",{attrs:{src:this.path,width:this.size,height:this.size}})};s._withStripped=!0;var a={name:"StudipIcon",props:{icon:{type:String},role:{type:String,validator:e=>["info","clickable","accept","status-green","inactive","navigation","new","attention","status-red","info_alt","sort","status-yellow"].includes(e),default:""},size:{type:String,required:!1,default:"16"}},data:()=>({role_to_color:{info:"black",clickable:"blue",accept:"green","status-green":"green",inactive:"grey",navigation:"blue",new:"red",attention:"red","status-red":"red",info_alt:"white",sort:"yellow","status-yellow":"yellow"}}),computed:{path(){var e=this.icon.split("+").reverse().join("/");return ICON_URL+this.role_to_color[this.role]+"/"+e+".svg"}}},i=r(5),n=Object(i.a)(a,s,[],!1,null,null,null);n.options.__file="vueapp/components/StudipIcon.vue";t.a=n.exports},52:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));const s={data:()=>({parentDialogId:null}),mounted(){this.getParentDialogId()},created(){this.$on(["done","cancel"],()=>{this.dialogClose()})},methods:{dialogClose(){if(this.$children.length){var e=this.$children.filter(e=>"Dialog"==e.$options.name);e.length&&e.forEach(e=>{e.$data.id&&$("#"+e.$data.id).dialog("close")})}},getParentDialogId(){var e=this.$parent.$children.filter(e=>"Dialog"==e.$options.name);e.length&&e.forEach(e=>{e.$data.id&&(this.parentDialogId=e.$data.id)})}}}},54:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.course_config.introduction?r("MessageBox",{attrs:{type:"info"}},[r("span",{domProps:{innerHTML:e._s(e.course_config.introduction)}})]):e._e(),e._v(" "),e.message?r("MessageBox",{attrs:{type:e.message.type},on:{hide:function(t){e.message=""}}},[e._v("\n        "+e._s(e.message.text)+"\n    ")]):e._e(),e._v(" "),e.config&&0===Object.keys(e.config).length?r("MessageBox",{attrs:{type:"error"}},[r("translate",[e._v("\n            Es ist bisher kein Meetingsserver konfiguriert. Bitte wenden\n            Sie sich an eine/n Systemadministrator/in!\n        ")])],1):r("span",[e.rooms_checked&&!e.rooms_list.length&&e.config&&e.course_config.display.addRoom?r("MessageBox",{attrs:{type:"info"}},[r("translate",[e._v("\n                Bisher existieren keine Meeting-Räume für diese Veranstaltung.\n                Möchten Sie einen anlegen?\n            ")]),e._v(" "),r("br"),e._v(" "),r("StudipButton",{attrs:{type:"button"},on:{click:e.createNewRoom}},[r("translate",[e._v("Neuer Raum")])],1)],1):e._e(),e._v(" "),e.rooms_checked?e._e():r("MessageBox",{attrs:{type:"warning"}},[r("translate",[e._v("Raumliste wird geladen...")])],1),e._v(" "),r("p",[e.rooms_list.length&&e.config&&e.course_config.display.addRoom?r("StudipButton",{attrs:{type:"button",icon:"add"},on:{click:e.createNewRoom}},[r("translate",[e._v("Raum hinzufügen")])],1):e._e(),e._v(" "),e.rooms_list.length?r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchtext,expression:"searchtext"}],attrs:{type:"text",placeholder:e.$gettext("Räume filtern nach Name")},domProps:{value:e.searchtext},on:{input:function(t){t.target.composing||(e.searchtext=t.target.value)}}})]):e._e()],1),e._v(" "),e.rooms_list_filtered.length?r("form",{staticClass:"default conference-meeting"},e._l(e.rooms_list_filtered,(function(t,s){return r("MeetingComponent",{key:s,attrs:{room:t,info:void 0!==e.rooms_info&&e.rooms_info[t.id]?e.rooms_info[t.id]:{}},on:{getRecording:e.showRecording,renewRoomList:e.getRoomList,getGuestInfo:e.showGuestDialog,getFeatures:e.showEditRoom,setMessage:e.showMessage,getFeedback:e.showFeedbackDialog}})})),1):e._e()],1),e._v(" "),e.createEditRoom?r("MeetingAdd",{attrs:{room:e.createEditRoom},on:{done:e.roomEditDone,cancel:function(t){e.createEditRoom=!1}}}):e._e(),e._v(" "),e.showRecordings?r("MeetingRecordings",{attrs:{room:e.showRecordings},on:{cancel:function(t){e.showRecordings=!1}}}):e._e(),e._v(" "),e.showFeedback?r("MeetingFeedback",{attrs:{room:e.showFeedback},on:{done:e.feedbackDone,cancel:function(t){e.showFeedback=!1}}}):e._e(),e._v(" "),e.showGuest?r("MeetingGuest",{attrs:{room:e.showGuest},on:{done:function(t){e.showGuest=!1},cancel:function(t){e.showGuest=!1}}}):e._e()],1)};s._withStripped=!0;var a=r(6),i=r(7),n=r(49),o=r(48),l=function(){var e=this.$createElement,t=this._self._c||e;return this.status?t("div",[t("StudipIcon",{attrs:{icon:"video2",role:"attention",size:"36"}}),this._v(" "),t("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"red"},[this._v("\n        Dieser Raum wird momentan aufgezeichnet!\n    ")])],1):this._e()};l._withStripped=!0;var c=r(51),d=r(0),m={name:"MeetingStatus",components:{StudipIcon:c.a},props:{room_id:{type:String,required:!0}},data:()=>({status:!1,interval:null}),methods:{getStatus(){var e=this;this.interval=setInterval((function(){e.$store.dispatch(d.v,e.room_id).then(({data:t})=>{e.status=t.status})}),5e3)}},mounted(){this.getStatus()},beforeDestroy(){clearInterval(this.interval)}},u=r(5),v=Object(u.a)(m,l,[],!1,null,null,null);v.options.__file="vueapp/components/MeetingStatus.vue";var f=v.exports,p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"meetingcomponent"},[r("fieldset",[r("legend",[r("div",{staticClass:"meeting-item-header",class:{"meeting-disabled":!e.room.enabled}},[r("div",{staticClass:"left"},[e._v("\n                  "+e._s(e.room.name)+"\n                  "),e.room.details?r("StudipTooltipIcon",{attrs:{text:e.room.details.creator+", "+e.room.details.date}}):e._e(),e._v(" "),e.info&&e.info.participantCount>0?r("span",{directives:[{name:"translate",rawName:"v-translate",value:{count:e.info.participantCount},expression:"{\n                            count: info.participantCount\n                        }"}],staticClass:"participants"},[e._v("\n                        %{ count } Teilnehmende aktiv\n                    ")]):e._e()],1),e._v(" "),r("div",{staticClass:"right"},[e.room.features&&e.room.features.record&&"true"==e.room.features.record&&!e.room.record_not_allowed?r("StudipTooltipIcon",{attrs:{text:e.$gettext("Bitte beachten Sie, dass dieser Raum aufgezeichnet wird!"),badge:!0}},[r("StudipIcon",{attrs:{icon:"span-full",role:"attention",size:"11"}}),e._v(" "+e._s("Rec")+"\n                    ")],1):e._e(),e._v(" "),e.room.has_recordings?r("a",{staticStyle:{cursor:"pointer"},attrs:{title:e.$gettext("Die vorhandenen Aufzeichnungen")},on:{click:function(t){return t.preventDefault(),e.getRecording()}}},[r("StudipIcon",{attrs:{icon:"video2",role:"clickable",size:"20"}})],1):e._e(),e._v(" "),e.course_config.display.editRoom?r("a",{staticStyle:{cursor:"pointer"},attrs:{title:e.$gettext("Raumeinstellungen")},on:{click:function(t){return t.preventDefault(),e.editFeatures()}}},[r("StudipIcon",{attrs:{icon:"admin",role:"clickable",size:"20"}})],1):e._e(),e._v(" "),r("a",{staticStyle:{cursor:"pointer"},attrs:{title:e.$gettext("Schreiben Sie ein Feedback")},on:{click:function(t){return t.preventDefault(),e.writeFeedback()}}},[r("StudipIcon",{attrs:{icon:"support",role:"clickable",size:"22"}})],1),e._v(" "),e.course_config.display.deleteRoom?r("a",{staticStyle:{cursor:"pointer"},attrs:{title:e.$gettext("Raum löschen")},on:{click:function(t){return t.preventDefault(),e.deleteRoom(t)}}},[r("StudipIcon",{attrs:{icon:"trash",role:"clickable",size:"20"}})],1):e._e()],1)])]),e._v(" "),r("label",{attrs:{id:"details"}},[e.course_config.display.editRoom?r("div",[r("a",{staticStyle:{cursor:"pointer"},attrs:{title:1==e.room.join_as_moderator?e.$gettext("Teilnehmenden nur eingeschränkte Rechte geben"):e.$gettext("Teilnehmenden Administrationsrechte geben")},on:{click:function(t){return t.preventDefault(),e.editRights()}}},[r("StudipIcon",{staticClass:"info-icon",attrs:{icon:1==e.room.join_as_moderator?"lock-unlocked":"lock-locked",role:"clickable",size:"24"}})],1),e._v(" "),r("span",{attrs:{id:"rights-info-text-"+e.room.id}},[e._v(e._s(1==e.room.join_as_moderator?e.$gettext("Teilnehmende haben Moderationsrechte"):e.$gettext("Teilnehmende haben eingeschränkte Rechte"))+"\n                ")])]):e._e(),e._v(" "),e.course_config.display.editRoom?r("div",[r("a",{staticStyle:{cursor:"pointer"},attrs:{title:1==e.room.active?e.$gettext("Meeting für Teilnehmende unsichtbar schalten"):e.$gettext("Meeting für Teilnehmende sichtbar schalten")},on:{click:function(t){return t.preventDefault(),e.editVisibility()}}},[r("StudipIcon",{staticClass:"info-icon",attrs:{icon:1==e.room.active?"visibility-visible":"visibility-invisible",role:"clickable",size:"24"}})],1),e._v(" "),r("span",{attrs:{id:"active-info-text-"+e.room.id}},[e._v(e._s(1==e.room.active?e.$gettext("Das Meeting ist für die Teilnehmer sichtbar"):e.$gettext("Das Meeting ist für die Teilnehmer unsichtbar"))+"\n                ")])]):e._e(),e._v(" "),e.course_config.display.editRoom&&e.room.group_id?r("div",[r("StudipIcon",{staticClass:"info-icon",attrs:{icon:"group2",role:"status-yellow",size:"24"}}),e._v(" "),r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                    Das Meeting gehört der Gruppe\n                ")]),e._v(" "),e.group_name?r("span",{domProps:{textContent:e._s(e.group_name)}}):e._e()],1):e._e(),e._v(" "),e.course_config.display.editRoom&&null!==e.room.folder_id&&e.room.details&&e.room.details.folder?r("div",[e.room.preupload_not_allowed?[r("div",[r("a",[r("StudipIcon",{staticClass:"info-icon",attrs:{icon:"exclaim-circle-full",role:"status-red",size:"24"}})],1),e._v(" "),r("span",{directives:[{name:"translate",rawName:"v-translate"}],domProps:{textContent:e._s(e.room.preupload_not_allowed)}})])]:[r("StudipIcon",{staticClass:"info-icon",attrs:{icon:"folder-empty",role:"inactive",size:"24"}}),e._v(" "),r("translate",[e._v("\n                        Ordner für automatische Uploads:\n                    ")]),e._v(" "),r("a",{attrs:{href:e.room.details.folder.link,target:"_blank"}},[e._v("\n                        "+e._s(e.room.details.folder.name)+"\n                    ")])]],2):e._e(),e._v(" "),e.num_drivers>1?r("div",[r("StudipIcon",{staticClass:"info-icon",attrs:{icon:"video2",role:"info",size:"24"}}),e._v("\n\n                "+e._s(this.config[e.room.driver].display_name?this.config[e.room.driver].display_name:e.room.driver)+"\n            ")],1):e._e(),e._v(" "),e.course_config.display.editRoom&&e.room.features&&e.room.features.record&&"true"==e.room.features.record&&e.room.record_not_allowed?r("div",[r("a",[r("StudipIcon",{staticClass:"info-icon",attrs:{icon:"exclaim-circle-full",role:"status-red",size:"24"}})],1),e._v(" "),r("span",{directives:[{name:"translate",rawName:"v-translate"}],domProps:{textContent:e._s(e.room.record_not_allowed)}})]):e._e(),e._v(" "),e.room.enabled?e._e():r("div",[r("a",[r("StudipIcon",{staticClass:"info-icon",attrs:{icon:"exclaim-circle-full",role:"status-red",size:"24"}})],1),e._v(" "),r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                    Dieser Raum ist deaktiviert, da der Treiber "+e._s(e.room.driver)+"\n                    nicht aktiviert oder falsch konfiguriert ist.\n                ")])])]),e._v(" "),r("div",{staticClass:"meeting-item-btns"},[e.course_config.display.editRoom&&e.room.features&&e.room.features["guestPolicy-ALWAYS_ACCEPT"]&&"true"==e.room.features["guestPolicy-ALWAYS_ACCEPT"]?r("StudipButton",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{type:"button",icon:"add"},on:{click:function(t){return e.getGuestInfo()}}},[e._v("\n                Einladungslink erstellen\n            ")]):e._e(),e._v(" "),e.room.enabled?r("a",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button join",attrs:{href:e.join_url,target:"_blank"}},[e._v("\n                Teilnehmen\n            ")]):r("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button join",attrs:{disabled:"disabled"}},[e._v("\n                Teilnehmen nicht möglich\n            ")])],1)])])};p._withStripped=!0;var _=r(50),h={name:"MeetingComponent",components:{StudipButton:n.a,StudipIcon:c.a,StudipTooltipIcon:_.a,MessageBox:o.a},computed:{...Object(a.b)(["course_config","config","course_groups"]),join_url(){return API_URL+"/rooms/join/"+this.room.course_id+"/"+this.room.id},num_drivers(){let e=0;for(let t in this.config)"1"===this.config[t].enable&&e++;return e},group_name(){let e="";return null!=this.room.group_id&&(e=this.course_groups[this.room.group_id]),e}},props:{room:{type:Object,required:!0},info:{type:Object}},data:()=>({interval:null}),methods:{getNonReactiveRoom(){return JSON.parse(JSON.stringify(this.room))},writeFeedback(){this.$emit("getFeedback",this.getNonReactiveRoom())},editFeatures(){this.$emit("getFeatures",this.getNonReactiveRoom())},editRights(){$("#rights-info-text-"+this.room.id).removeClass("has-changed"),this.room.join_as_moderator=1==this.room.join_as_moderator?0:1,this.$store.dispatch(d.w,this.room).then(({data:e})=>{"error"==e.message.type?(this.room.join_as_moderator=!this.room.join_as_moderator,this.$emit("setMessage",e.message)):$("#rights-info-text-"+this.room.id).addClass("has-changed")}).catch(({error:e})=>{this.room.join_as_moderator=!this.room.join_as_moderator})},editVisibility(){$("#active-info-text-"+this.room.id).removeClass("has-changed"),this.room.active=1==this.room.active?0:1,this.$store.dispatch(d.w,this.room).then(({data:e})=>{"error"==e.message.type?(this.room.active=!this.room.active,this.$emit("setMessage",e.message)):$("#active-info-text-"+this.room.id).addClass("has-changed")}).catch(({error:e})=>{this.room.active=!this.room.active})},getRecording(){this.$emit("getRecording",this.getNonReactiveRoom())},deleteRoom(e){e&&e.preventDefault(),confirm("Sind sie sicher, dass sie diesen Raum löschen möchten?")&&this.$store.dispatch(d.p,this.room.id).then(({data:e})=>{this.$emit("setMessage",e.message),"success"==e.message.type&&this.$emit("renewRoomList")})},getGuestInfo(){this.$emit("getGuestInfo",this.getNonReactiveRoom())}}},g=Object(u.a)(h,p,[],!1,null,null,null);g.options.__file="vueapp/components/MeetingComponent.vue";var b=g.exports,y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.config?r("div",{attrs:{id:"conference-meeting-create"}},[r("MeetingDialog",{attrs:{title:e.$gettext("Raumkonfiguration")},on:{close:function(t){return e.cancelAddRoom(t)}},scopedSlots:e._u([{key:"content",fn:function(){return[e.modal_message.text?r("MessageBox",{attrs:{type:e.modal_message.type},on:{hide:function(t){e.modal_message.text=""}}},[e._v("\n                "+e._s(e.modal_message.text)+"\n            ")]):e.room.driver&&!Object.keys(e.config[e.room.driver].servers).length?r("MessageBox",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{type:"error"}},[e._v("\n                Es gibt keine Server für dieses Konferenzsystem, bitte wählen Sie ein anderes Konferenzsystem\n            ")]):e._e(),e._v(" "),r("form",{staticClass:"default",staticStyle:{position:"relative"},on:{keyup:function(t){return e.roomFormSubmit(t)}}},[r("fieldset",[r("legend",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                        Raumname\n                    ")]),e._v(" "),r("label",[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.room.name,expression:"room['name']",modifiers:{trim:!0}}],attrs:{type:"text",id:"name"},domProps:{value:e.room.name},on:{input:function(t){t.target.composing||e.$set(e.room,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),Object.keys(e.config).length>1||e.room.driver&&Object.keys(e.config[e.room.driver].servers).length>1?r("fieldset",[r("legend",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                        Konferenz Systemeinstellung\n                    ")]),e._v(" "),Object.keys(e.config).length>1?r("label",[r("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"required"},[e._v("\n                            Konferenzsystem\n                        ")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.room.driver,expression:"room['driver']"}],attrs:{id:"driver",disabled:1==Object.keys(e.config).length},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.room,"driver",t.target.multiple?r:r[0])},function(t){return t.preventDefault(),e.handleServerDefaults(t)}]}},[r("option",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{value:"",disabled:""}},[e._v("\n                                Bitte wählen Sie ein Konferenzsystem aus\n                            ")]),e._v(" "),e._l(e.availableServers,(function(t,s){return r("option",{key:s,attrs:{disabled:1==Object.keys(e.config[s].servers).length&&(e.config[s].server_course_type&&e.config[s].server_course_type[0]&&!e.config[s].server_course_type[0].valid||!e.config[s].servers[0])},domProps:{value:s}},[e._v("\n                                    "+e._s(t.display_name)+"\n                                    "),1==Object.keys(e.config[s].servers).length?[e.config[s].server_details&&e.config[s].server_details[0]&&e.config[s].server_details[0].label&&""!=e.config[s].server_details[0].label?r("span",{directives:[{name:"translate",rawName:"v-translate",value:{label:e.config[s].server_details[0].label},expression:"{\n                                                label: config[driver]['server_details'][0]['label']\n                                            }"}]},[e._v("\n                                            (%{ label })\n                                        ")]):e._e(),e._v(" "),e.config[s].server_course_type&&e.config[s].server_course_type[0]&&e.config[s].server_course_type[0].name?r("span",{directives:[{name:"translate",rawName:"v-translate",value:{name:e.config[s].server_course_type[0].name},expression:"{\n                                                name: config[driver]['server_course_type'][0]['name']\n                                            }"}]},[e._v("\n                                            (für %{ name })\n                                        ")]):e._e(),e._v(" "),!e.config[s].servers[0]||e.config[s].server_course_type&&e.config[s].server_course_type[0]&&!e.config[s].server_course_type[0].valid?r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                                        - nicht verfügbar\n                                        ")]):e._e()]:e._e()],2)}))],2)]):e._e(),e._v(" "),e.room.driver&&Object.keys(e.config[e.room.driver].servers).length>1?r("label",[r("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"required"},[e._v("\n                            Verfügbare Server\n                        ")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.room.server_index,expression:"room['server_index']"}],attrs:{id:"server_index",disabled:1==Object.keys(e.config[e.room.driver].servers).length},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.room,"server_index",t.target.multiple?r:r[0])},function(t){return t.preventDefault(),e.handleServerDefaults(t)}]}},[r("option",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{value:"",disabled:""}},[e._v("\n                                Bitte wählen Sie einen Server aus\n                            ")]),e._v(" "),e._l(e.config[e.room.driver].servers,(function(t,s){return r("option",{key:s,attrs:{disabled:!t||e.config[e.room.driver].server_course_type&&e.config[e.room.driver].server_course_type[s]&&!e.config[e.room.driver].server_course_type[s].valid},domProps:{value:""+s}},[e.config[e.room.driver].server_details&&e.config[e.room.driver].server_details[s]&&e.config[e.room.driver].server_details[s].label&&""!=e.config[e.room.driver].server_details[s].label?r("span",{directives:[{name:"translate",rawName:"v-translate",value:{label:e.config[e.room.driver].server_details[s].label},expression:"{\n                                            label: config[room['driver']]['server_details'][server_index]['label']\n                                        }"}]},[e._v("\n                                        %{ label }\n                                    ")]):r("translate",[e._v("Server "+e._s(s+1))]),e._v(" "),e.config[e.room.driver].server_defaults&&e.config[e.room.driver].server_defaults[s]&&e.config[e.room.driver].server_defaults[s].maxAllowedParticipants?r("span",{directives:[{name:"translate",rawName:"v-translate",value:{count:e.config[e.room.driver].server_defaults[s].maxAllowedParticipants},expression:"{\n                                            count: config[room['driver']]['server_defaults'][server_index]['maxAllowedParticipants']\n                                        }"}]},[e._v("\n                                        (max. %{ count } Teilnehmer)\n                                    ")]):e._e(),e._v(" "),e.config[e.room.driver].server_course_type&&e.config[e.room.driver].server_course_type[s]&&e.config[e.room.driver].server_course_type[s].name?r("span",{directives:[{name:"translate",rawName:"v-translate",value:{name:e.config[e.room.driver].server_course_type[s].name},expression:"{\n                                            name: config[room['driver']]['server_course_type'][server_index]['name']\n                                        }"}]},[e._v("\n                                        (für %{ name })\n                                    ")]):e._e(),e._v(" "),!t||e.config[e.room.driver].server_course_type&&e.config[e.room.driver].server_course_type[s]&&!e.config[e.room.driver].server_course_type[s].valid?r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                                       - nicht verfügbar\n                                    ")]):e._e()],1)}))],2)]):e._e(),e._v(" "),e.room.driver&&e.room.server_index&&e.config[e.room.driver].server_details&&e.config[e.room.driver].server_details[e.room.server_index]&&e.config[e.room.driver].server_details[e.room.server_index].description&&""!=e.config[e.room.driver].server_details[e.room.server_index].description?r("label",[r("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                            Serverbeschreibung\n                        ")]),e._v(" "),r("div",{directives:[{name:"translate",rawName:"v-translate"}],staticStyle:{"word-break":"break-word !important"},domProps:{textContent:e._s(e.config[e.room.driver].server_details[e.room.server_index].description)}})]):e._e()]):e._e(),e._v(" "),r("fieldset",[r("legend",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                        Zusätzliche Funktionen\n                    ")]),e._v(" "),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.room.join_as_moderator,expression:"room['join_as_moderator']"}],attrs:{type:"checkbox",id:"join_as_moderator","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(e.room.join_as_moderator)?e._i(e.room.join_as_moderator,null)>-1:e._q(e.room.join_as_moderator,"1")},on:{change:function(t){var r=e.room.join_as_moderator,s=t.target,a=s.checked?"1":"0";if(Array.isArray(r)){var i=e._i(r,null);s.checked?i<0&&e.$set(e.room,"join_as_moderator",r.concat([null])):i>-1&&e.$set(e.room,"join_as_moderator",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.room,"join_as_moderator",a)}}}),e._v(" "),r("translate",[e._v("\n                            Alle Teilnehmenden haben Moderationsrechte\n                        ")])],1),e._v(" "),e.room.driver&&Object.keys(e.config[e.room.driver]).includes("features")&&Object.keys(e.config[e.room.driver].features).includes("create")&&Object.keys(e.config[e.room.driver].features.create).length?r("div",e._l(e.config[e.room.driver].features.create,(function(t,s){return r("div",{key:s},[!0===t.value||!1===t.value?r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.room.features[t.name],expression:"room['features'][feature['name']]"}],attrs:{type:"checkbox","true-value":"true","false-value":"false"},domProps:{checked:Array.isArray(e.room.features[t.name])?e._i(e.room.features[t.name],null)>-1:e._q(e.room.features[t.name],"true")},on:{change:function(r){var s=e.room.features[t.name],a=r.target,i=a.checked?"true":"false";if(Array.isArray(s)){var n=e._i(s,null);a.checked?n<0&&e.$set(e.room.features,t.name,s.concat([null])):n>-1&&e.$set(e.room.features,t.name,s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.room.features,t.name,i)}}}),e._v("\n\n                                    "+e._s(t.display_name)+"\n                                    "),Object.keys(t).includes("info")?r("StudipTooltipIcon",{attrs:{text:t.info}}):e._e()],1):t.value&&"object"==typeof t.value?r("label",[e._v("\n                                "+e._s(t.display_name)+"\n                                "),Object.keys(t).includes("info")?r("StudipTooltipIcon",{attrs:{text:t.info}}):e._e(),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.room.features[t.name],expression:"room['features'][feature['name']]",modifiers:{trim:!0}}],attrs:{id:t.name},on:{change:function(r){var s=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.room.features,t.name,r.target.multiple?s:s[0])}}},e._l(t.value,(function(t,s){return r("option",{directives:[{name:"translate",rawName:"v-translate"}],key:s,domProps:{value:s}},[e._v("\n                                            "+e._s(t)+"\n                                    ")])})),0)],1):r("label",[e._v("\n\n                                "+e._s(t.display_name)+"\n                                "),"maxParticipants"==t.name&&Object.keys(e.config[e.room.driver]).includes("server_defaults")&&e.room.server_index&&null!=e.config[e.room.driver].server_defaults[e.room.server_index]&&Object.keys(e.config[e.room.driver].server_defaults[e.room.server_index]).includes("maxAllowedParticipants")?r("span",{directives:[{name:"translate",rawName:"v-translate",value:{count:e.config[e.room.driver].server_defaults[e.room.server_index].maxAllowedParticipants},expression:"{\n                                        count: config[room['driver']]['server_defaults'][room['server_index']]['maxAllowedParticipants']\n                                    }"}]},[e._v("\n                                      (Max. Limit: %{ count })\n                                ")]):e._e(),e._v(" "),"duration"==t.name&&e.maxDuration?r("span",{directives:[{name:"translate",rawName:"v-translate",value:{maxDuration:e.maxDuration},expression:"{\n                                        maxDuration\n                                    }"}]},[e._v("\n                                       (Max. Limit: %{ maxDuration } Minuten)\n                                ")]):e._e(),e._v(" "),Object.keys(t).includes("info")?r("StudipTooltipIcon",{attrs:{text:t.info}}):e._e(),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.room.features[t.name],expression:"room['features'][feature['name']]",modifiers:{trim:!0}}],attrs:{type:"duration"==t.name||"maxParticipants"==t.name?"number":"text",max:"maxParticipants"==t.name?Object.keys(e.config[e.room.driver]).includes("server_defaults")&&e.room.server_index&&null!=e.config[e.room.driver].server_defaults[e.room.server_index]&&Object.keys(e.config[e.room.driver].server_defaults[e.room.server_index]).includes("maxAllowedParticipants")?e.config[e.room.driver].server_defaults[e.room.server_index].maxAllowedParticipants:"":"duration"==t.name?e.maxDuration:"",min:"maxParticipants"==t.name?e.minParticipants:"duration"==t.name?1:"",placeholder:t.value?t.value:"",id:t.name},domProps:{value:e.room.features[t.name]},on:{change:function(r){"maxParticipants"==t.name&&e.checkPresets()},input:function(r){r.target.composing||e.$set(e.room.features,t.name,r.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})],1)])})),0):e._e()]),e._v(" "),e.room.driver&&Object.keys(e.config[e.room.driver]).includes("features")&&Object.keys(e.config[e.room.driver].features).includes("record")&&Object.keys(e.config[e.room.driver].features.record).length&&Object.keys(e.config[e.room.driver]).includes("record")?r("fieldset",[r("legend",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                        Aufzeichnung\n                    ")]),e._v(" "),e._l(e.config[e.room.driver].features.record,(function(t,s){return r("div",{key:s},[!0===t.value||!1===t.value?r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.room.features[t.name],expression:"room['features'][feature['name']]"}],attrs:{type:"checkbox","true-value":"true","false-value":"false"},domProps:{checked:Array.isArray(e.room.features[t.name])?e._i(e.room.features[t.name],null)>-1:e._q(e.room.features[t.name],"true")},on:{change:function(r){var s=e.room.features[t.name],a=r.target,i=a.checked?"true":"false";if(Array.isArray(s)){var n=e._i(s,null);a.checked?n<0&&e.$set(e.room.features,t.name,s.concat([null])):n>-1&&e.$set(e.room.features,t.name,s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.room.features,t.name,i)}}}),e._v("\n\n                                "+e._s(t.display_name)+"\n                                "),Object.keys(t).includes("info")?r("StudipTooltipIcon",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{text:t.info,badge:!(!Object.keys(e.config[e.room.driver]).includes("opencast")||"1"!=e.config[e.room.driver].opencast||!t.info.toLowerCase().includes("opencast"))}},[e._v("\n                                        beta\n                                ")]):e._e()],1):t.value&&"object"==typeof t.value?r("label",[e._v("\n                            "+e._s(t.display_name)+"\n                            "),Object.keys(t).includes("info")?r("StudipTooltipIcon",{attrs:{text:t.info}}):e._e(),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.room.features[t.name],expression:"room['features'][feature['name']]",modifiers:{trim:!0}}],attrs:{id:t.name},on:{change:function(r){var s=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.room.features,t.name,r.target.multiple?s:s[0])}}},e._l(t.value,(function(t,s){return r("option",{key:s,domProps:{value:s}},[e._v("\n                                        "+e._s(t)+"\n                                ")])})),0)],1):r("label",[e._v("\n                            "+e._s(t.display_name)+"\n                            "),Object.keys(t).includes("info")?r("StudipTooltipIcon",{attrs:{text:t.info}}):e._e(),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.room.features[t.name],expression:"room['features'][feature['name']]",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:t.value?t.value:"",id:t.name},domProps:{value:e.room.features[t.name]},on:{input:function(r){r.target.composing||e.$set(e.room.features,t.name,r.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})],1)])}))],2):e._e(),e._v(" "),e.room.driver&&Object.keys(e.course_groups).length?r("fieldset",[r("legend",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                        Gruppenraum\n                    ")]),e._v(" "),r("label",[r("translate",[e._v("Wählen sie eine zugehörige Gruppe aus")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.room.group_id,expression:"room.group_id",modifiers:{trim:!0}}],attrs:{id:"gruppen"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.room,"group_id",t.target.multiple?r:r[0])}}},[r("option",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{value:""}},[e._v("\n                                Keine Gruppe\n                            ")]),e._v(" "),e._l(e.course_groups,(function(t,s){return r("option",{key:s,domProps:{value:s}},[e._v("\n                                    "+e._s(t)+"\n                            ")])}))],2)],1)]):e._e(),e._v(" "),e.room.driver&&Object.keys(e.config[e.room.driver]).includes("preupload")&&1==e.config[e.room.driver].preupload?r("fieldset",[r("legend",[r("translate",[e._v("\n                            Automatisches hochladen von Materialien\n                        ")]),e._v(" "),r("StudipTooltipIcon",{attrs:{text:e.$gettext("Verknüpfen Sie einen Ordner mit diesem Raum. Es werden alle Dateien in diesem Ordner automatisch zu Beginn des Meetings hochgeladen. Sie können im Meeting zwischen den Dateien wechseln.")}})],1),e._v(" "),r("label",[r("div",[r("translate",[e._v("Aktuell ausgewählter Ordner: ")]),e._v(" "),e.room.folder_id&&e.room.folder_id==e.folder.id&&""!=e.folder.name?r("span",[e._v("\n                                "+e._s(e.folder.name)+"\n                            ")]):r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                                Kein Ordner\n                            ")])],1),e._v(" "),r("div",{staticClass:"course-folder-container"},[r("table",{staticClass:"default documents"},[r("caption",[r("div",{staticClass:"caption-container meetings-caption"},[r("a",{attrs:{title:e.$gettext("Zum Hauptordner - Ordnerauswahl aufheben")},on:{click:function(t){return t.preventDefault(),e.FolderHandler("topFolder")}}},[r("StudipIcon",{staticClass:"folder-icon",attrs:{icon:"folder-home-full",role:"clickable",size:"20"}})],1),e._v(" "),Object.keys(e.folder).includes("breadcrumbs")?[e._l(e.folder.breadcrumbs,(function(t,s){return[e._v("\n                                                 / \n                                                "),r("a",{key:s,on:{click:function(t){t.preventDefault(),(!e.room.folder_id||e.room.folder_id!=s)&&e.FolderHandler(s)}}},[e._v("\n                                                    "+e._s(t)+"\n                                                ")])]}))]:e._e()],2)]),e._v(" "),r("thead",[r("tr",[r("th",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Name")])])]),e._v(" "),Object.keys(e.folder).includes("subfolders")&&Object.keys(e.folder.subfolders).length>0||Object.keys(e.folder).includes("files")&&Object.keys(e.folder.files).length>0?[Object.keys(e.folder.subfolders).length>0?r("tbody",{staticClass:"subfolders"},e._l(e.folder.subfolders,(function(t,s){return r("tr",{key:s,attrs:{id:"row_folder_"+s}},[r("td",[r("a",{attrs:{title:e.$gettext("Als aktueller Ordner auswählen")},on:{click:function(t){return t.preventDefault(),e.FolderHandler(s)}}},[t.icon?r("StudipIcon",{attrs:{icon:t.icon,role:"clickable",size:"16"}}):e._e(),e._v(" "),r("span",[e._v(e._s(t.name))])],1)])])})),0):e._e(),e._v(" "),Object.keys(e.folder.files).length<=e.numFileInFolderLimit||e.showFilesInFolder?r("tbody",{staticClass:"files"},e._l(e.folder.files,(function(t,s){return r("tr",{key:s},[r("td",[r("div",[t.icon?r("StudipIcon",{attrs:{icon:t.icon,role:"clickable",size:"16"}}):e._e(),e._v(" "),r("span",[e._v(e._s(t.name))])],1)])])})),0):r("tbody",[r("tr",{staticClass:"empty"},[r("td",[Object.keys(e.folder).includes("files")&&Object.keys(e.folder.files).length>e.numFileInFolderLimit?r("span",{directives:[{name:"translate",rawName:"v-translate",value:{count:Object.keys(e.folder.files).length},expression:"{\n                                                        count: Object.keys(folder['files']).length\n                                                    }"}]},[e._v("\n                                                    In diesem Ordner befinden sich %{ count } Dateien "),r("br"),e._v("\n                                                    die aus Gründen der Übersichtlichkeit ausgeblendet wurden. "),r("br"),e._v('\n                                                    Wählen sie "Alle Dateien anzeigen" um diese Dateien aufzulisten\n                                                ')]):r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                                                    Dieser Ordner ist leer\n                                                ")])])])])]:[r("tbody",[r("tr",{staticClass:"empty"},[r("translate",[e._v("\n                                                Dieser Ordner ist leer\n                                            ")])],1)])],e._v(" "),r("tfoot",[r("tr",[r("td",[r("div",{staticClass:"footer-container"},[r("a",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button",on:{click:function(t){t.preventDefault(),e.showAddNewFolder=!0}}},[e._v("\n                                                    Neuer Ordner\n                                                ")]),e._v(" "),Object.keys(e.folder).includes("files")&&Object.keys(e.folder.files).length>e.numFileInFolderLimit?r("a",{staticClass:"right",on:{click:function(t){t.preventDefault(),e.showFilesInFolder=!e.showFilesInFolder}}},[r("StudipIcon",{attrs:{icon:e.showFilesInFolder?"checkbox-checked":"checkbox-unchecked",role:"clickable",size:"14"}}),e._v(" "),r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Alle Dateien anzeigen")])],1):e._e()])])])])],2)])])]):e._e()])]},proxy:!0},{key:"buttons",fn:function(){return[e.room.id?r("StudipButton",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"ui-button ui-corner-all ui-widget",attrs:{icon:"accept",type:"button"},on:{click:function(t){return e.editRoom(t)}}},[e._v("\n                Änderungen speichern\n            ")]):r("StudipButton",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"ui-button ui-corner-all ui-widget",attrs:{icon:"accept",type:"button"},on:{click:function(t){return e.addRoom(t)}}},[e._v("\n                Raum erstellen\n            ")]),e._v(" "),r("StudipButton",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"ui-button ui-corner-all ui-widget",attrs:{icon:"cancel",type:"button"},on:{click:function(t){return e.cancelAddRoom(t)}}},[e._v("\n                Abbrechen\n            ")])]},proxy:!0}],null,!1,4065035550)}),e._v(" "),e.showAddNewFolder?r("MeetingAddNewFolder",{attrs:{folder:e.folder},on:{done:function(t){e.showAddNewFolder=!1},cancel:function(t){e.showAddNewFolder=!1}}}):e._e()],1):e._e()};y._withStripped=!0;var k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("MeetingDialog",{attrs:{parentId:e.parentDialogId,title:e.$gettext("Neuer Ordner")},on:{close:function(t){return e.closeDialog(t)}},scopedSlots:e._u([{key:"content",fn:function(){return[e.modal_message.text?r("MessageBox",{attrs:{type:e.modal_message.type},on:{hide:function(t){e.modal_message.text=""}}},[e._v("\n                "+e._s(e.modal_message.text)+"\n            ")]):e._e(),e._v(" "),r("form",{staticClass:"default",on:{submit:function(t){return t.preventDefault(),e.addNewFolder(t)}}},[r("fieldset",[r("legend",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                        Ordnereigenschaften\n                    ")]),e._v(" "),r("label",[r("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"required"},[e._v("Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.new_folder.name,expression:"new_folder.name",modifiers:{trim:!0}}],attrs:{id:"edit_folder_name",type:"text",name:"name",placeholder:e.$gettext("Name")},domProps:{value:e.new_folder.name},on:{input:function(t){t.target.composing||e.$set(e.new_folder,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),r("label",[r("translate",[e._v("Beschreibung")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.new_folder.desc,expression:"new_folder.desc",modifiers:{trim:!0}}],attrs:{name:"description",placeholder:e.$gettext("Optionale Beschreibung")},domProps:{value:e.new_folder.desc},on:{input:function(t){t.target.composing||e.$set(e.new_folder,"desc",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})],1)]),e._v(" "),Object.keys(e.folder).includes("folder_types")&&Object.keys(e.folder.folder_types).length>0?r("fieldset",{staticClass:"select_terms_of_use"},[r("legend",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                        Ordnertyp auswählen\n                    ")]),e._v(" "),e._l(e.folder.folder_types,(function(t,s){return[r("input",{directives:[{name:"model",rawName:"v-model",value:e.new_folder.type,expression:"new_folder.type"}],key:s,attrs:{type:"radio",name:"folder_type",id:"folder-type-"+t.class},domProps:{value:t.class,checked:e._q(e.new_folder.type,t.class)},on:{change:function(r){return e.$set(e.new_folder,"type",t.class)}}}),e._v(" "),r("label",{key:t.class,attrs:{for:"folder-type-"+t.class}},[t.icon?r("div",{staticClass:"icon"},[r("StudipIcon",{attrs:{icon:t.icon,role:"clickable",size:"32"}})],1):e._e(),e._v(" "),r("div",{staticClass:"text"},[e._v("\n                                "+e._s(t.name)+"\n                            ")]),e._v(" "),r("StudipIcon",{staticClass:"check",attrs:{icon:"check-circle",role:"clickable",size:"32"}})],1)]}))],2):e._e()])]},proxy:!0},{key:"buttons",fn:function(){return[r("StudipButton",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{icon:"accept",type:"button"},on:{click:function(t){return e.addNewFolder(t)}}},[e._v("\n                Erstellen\n            ")]),e._v(" "),r("StudipButton",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{icon:"cancel",type:"button"},on:{click:function(t){return e.closeDialog(t)}}},[e._v("\n                Schließen\n            ")])]},proxy:!0}])})],1)};k._withStripped=!0;var w=r(52),x={name:"MeetingAddNewFolder",props:["folder"],mixins:[w.a],components:{StudipButton:n.a,StudipIcon:c.a,StudipTooltipIcon:_.a,MessageBox:o.a},data:()=>({modal_message:{},new_folder:{name:"",desc:"",type:"StandardFolder"}}),computed:{...Object(a.b)([])},mounted(){},methods:{closeDialog(e){e&&e.preventDefault(),this.new_folder={name:"",desc:"",type:"StandardFolder"},this.$emit("cancel")},addNewFolder(e){if(e&&e.preventDefault(),""==this.new_folder.name||this.folder.folder_types&&this.folder.folder_types.length>0&&""==this.new_folder.type){var t="Der Name darf nicht leer sein.".toLocaleString();return""!=this.new_folder.name&&(t="Bitte wählen Sie einen Ordner Typ aus".toLocaleString()),this.$set(this.modal_message,"type","error"),void this.$set(this.modal_message,"text",t)}this.$set(this.new_folder,"parent_id",this.folder.id),this.$store.dispatch(d.j,this.new_folder).then(({data:e})=>{this.message=e.message,"error"==this.message.type?(this.$set(this.modal_message,"type","error"),this.$set(this.modal_message,"text",this.message.text)):(i.a.dispatch(d.k,this.folder.id),this.$emit("done",{message:this.message}))}).catch(({error:e})=>{this.$emit("cancel")})}}},S=Object(u.a)(x,k,[],!1,null,null,null);S.options.__file="vueapp/components/MeetingAddNewFolder.vue";var j=S.exports,N=r(1),O={name:"MeetingAdd",props:["room"],mixins:[w.a],components:{StudipButton:n.a,StudipIcon:c.a,StudipTooltipIcon:_.a,MessageBox:o.a,MeetingAddNewFolder:j},data:()=>({modal_message:{},message:"",showAddNewFolder:!1,showFilesInFolder:!1,numFileInFolderLimit:5,minParticipants:20,maxDuration:1440}),computed:{...Object(a.b)(["config","course_config","course_groups","folder"]),availableServers(){let e={};for(let t in this.config)this.config[t].enable&&(e[t]=this.config[t]);return e}},mounted(){this.modal_message={},this.setDriver(),this.getFolders()},methods:{setDriver(){1==Object.keys(this.config).length&&(this.$set(this.room,"driver",Object.keys(this.config)[0]),this.handleServerDefaults()),void 0!==this.room.driver&&void 0!==this.config[this.room.driver]&&void 0===this.config[this.room.driver].server_defaults[this.room.server_index]&&this.$set(this.room,"server_index","0")},handleServerDefaults(){if(this.room.driver&&1==Object.keys(this.config[this.room.driver].servers).length&&this.$set(this.room,"server_index","0"),this.room.driver&&Object.keys(this.config[this.room.driver]).includes("server_course_type")&&Object.keys(this.config[this.room.driver].server_course_type).length>1){const t=this.config[this.room.driver].server_course_type.map(e=>1==e.valid);if(1==t.filter(Boolean).length){var e=t.findIndex(e=>1==e);-1!=e&&this.$set(this.room,"server_index",e.toString())}}if(this.$set(this.room,"features",{}),Object.keys(this.config[this.room.driver]).includes("features")){if(Object.keys(this.config[this.room.driver].features).includes("create")&&Object.keys(this.config[this.room.driver].features.create).length){this.config[this.room.driver].features.create.forEach(e=>{this.$set(this.room.features,e.name,e.value)});for(let e in this.config[this.room.driver].features.create){let t=this.config[this.room.driver].features.create[e];"object"!=typeof t.value||Array.isArray(t.value)||(this.room.features[t.name]=Object.keys(t.value)[0])}if(this.room.server_index&&Object.keys(this.config[this.room.driver]).includes("server_defaults")&&Object.keys(this.config[this.room.driver].server_defaults).length&&Object.keys(this.config[this.room.driver].server_defaults).includes(this.room.server_index))for(const[e,t]of Object.entries(this.config[this.room.driver].server_defaults[this.room.server_index]))"maxAllowedParticipants"!=e&&this.$set(this.room.features,"totalMembers"==e?"maxParticipants":e,t)}if(Object.keys(this.config[this.room.driver].features).includes("record")&&Object.keys(this.config[this.room.driver].features.record).length){this.config[this.room.driver].features.record.forEach(e=>{this.$set(this.room.features,e.name,e.value)});for(let e in this.config[this.room.driver].features.record){let t=this.config[this.room.driver].features.record[e];"object"!=typeof t.value||Array.isArray(t.value)||(this.room.features[t.name]=Object.keys(t.value)[0])}}}},checkPresets(){if(this.room.driver&&this.room.server_index&&Object.keys(this.config[this.room.driver]).includes("server_presets")&&Object.keys(this.config[this.room.driver].server_presets).includes(this.room.server_index))for(const[e,t]of Object.entries(this.config[this.room.driver].server_presets[this.room.server_index]))if(this.room.features&&this.room.features.maxParticipants&&parseInt(this.room.features.maxParticipants)>=parseInt(t.minParticipants))for(const[e,r]of Object.entries(t))"minParticipants"!=e&&this.$set(this.room.features,e,r)},validateMinMaxParticipants(){var e=!0;this.$set(this.modal_message,"text","");var t="";if(this.room.driver&&this.room.server_index&&this.room.features&&this.room.features.maxParticipants){if(Object.keys(this.config[this.room.driver]).includes("server_defaults")&&Object.keys(this.config[this.room.driver].server_defaults[this.room.server_index]).includes("maxAllowedParticipants")&&parseInt(this.room.features.maxParticipants)>parseInt(this.config[this.room.driver].server_defaults[this.room.server_index].maxAllowedParticipants)){this.$set(this.room.features,"maxParticipants",this.config[this.room.driver].server_defaults[this.room.server_index].maxAllowedParticipants);var r=this.config[this.room.driver].server_defaults[this.room.server_index].maxAllowedParticipants;t=`Teilnehmerzahl darf ${r} nicht überschreiten`.toLocaleString(),e=!1}parseInt(this.room.features.maxParticipants)<parseInt(this.minParticipants)&&(this.$set(this.room.features,"maxParticipants",parseInt(this.minParticipants)),t=`Teilnehmerzahl soll ${this.minParticipants} nicht unterschreiten`.toLocaleString(),e=!1)}return e||(this.modal_message.type="error",setTimeout(()=>{this.modal_message.text=t},150)),e},validateFeatureInputs(){var e=!0,t=[];if(this.$set(this.modal_message,"text",""),Object.keys(this.config[this.room.driver]).includes("features")&&Object.keys(this.room).includes("features"))for(const[r,s]of Object.entries(this.config[this.room.driver].features))Array.isArray(s)&&s.forEach(r=>{if(Object.keys(this.room.features).includes(r.name))switch(typeof r.value){case"boolean":("string"==typeof this.room.features[r.name]&&"true"!=this.room.features[r.name]&&"false"!=this.room.features[r.name]||"string"!=typeof this.room.features[r.name]&&"boolean"!=typeof this.room.features[r.name])&&(t.push(r.display_name),e=!1,this.$set(this.room.features,r.name,r.value));break;case"number":var s=parseInt(this.room.features[r.name]);Number.isInteger(s)&&s>0?this.$set(this.room.features,r.name,s):(t.push(r.display_name),e=!1,this.$set(this.room.features,r.name,r.value));break;case"object":Object.keys(r.value).includes(this.room.features[r.name])||(t.push(r.display_name),e=!1);break;default:s=this.room.features[r.name];var a="";a="welcome"==r.name?s.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""):s.replace(/(<([^>]+)>)/gi,""),this.$set(this.room.features,r.name,a)}});if(t.length>0){var r=t.join("), (");this.$set(this.modal_message,"text",""),this.$set(this.modal_message,"type","error"),setTimeout(()=>{this.$set(this.modal_message,"text",`Bitte beachten Sie die folgenden Felder (Eingaben auf Standard zurückgesetzt): (${r})`.toLocaleString())},150)}return e},validateMinMaxDuration(){var e=!0;this.$set(this.modal_message,"text","");var t="";return this.maxDuration&&this.room.driver&&this.room.server_index&&this.room.features&&this.room.features.duration&&this.room.features.duration>this.maxDuration&&(t=`Konferenzdauer darf ${this.maxDuration} Minuten nicht überschreiten`.toLocaleString(),e=!1,this.$set(this.room.features,"duration",this.maxDuration)),e||(this.modal_message.type="error",setTimeout(()=>{this.modal_message.text=t},150)),e},addRoom(e){if(e&&e.preventDefault(),this.validateFeatureInputs()&&this.validateMinMaxParticipants()&&this.validateMinMaxDuration()){var t=[];for(var r in this.room)"join_as_moderator"!=r&&"features"!=r&&""===this.room[r]&&$("#"+r).prev().hasClass("required")&&t.push($("#"+r).prev().text());if(t.length){var s=t.join("), (");this.$set(this.modal_message,"type","error"),this.$set(this.modal_message,"text",`Bitte füllen Sie folgende Felder aus: (${s})`.toLocaleString())}else this.modal_message={},this.$store.dispatch(d.o,this.room).then(({data:e})=>{this.message=e.message,"error"==this.message.type?(this.$set(this.modal_message,"type","error"),this.$set(this.modal_message,"text",this.message.text)):(i.a.dispatch(d.t),this.$emit("done",{message:this.message}))}).catch(({error:e})=>{this.$emit("cancel")})}},cancelAddRoom(e){e&&e.preventDefault(),this.$store.commit(N.k),this.$emit("cancel")},roomFormSubmit(e){"Enter"==e.key&&$(e.target).is("input")&&(Object.keys(this.room).includes("id")?this.editRoom(e):this.addRoom(e))},editRoom(e){e&&e.preventDefault(),this.validateFeatureInputs()&&this.validateMinMaxParticipants()&&this.validateMinMaxDuration()&&this.$store.dispatch(d.w,this.room).then(({data:e})=>{this.message=e.message,"success"==e.message.type?this.$emit("done",{message:this.message}):this.modal_message=e.message}).catch(({error:e})=>{this.$emit("cancel")})},getFolders(e=""){""==e&&(e=this.room.folder_id?this.room.folder_id:"topFolder"),this.$store.dispatch(d.k,e)},FolderHandler(e){this.$set(this.room,"folder_id","topFolder"==e?null:e),this.getFolders(e)}}},C=Object(u.a)(O,y,[],!1,null,null,null);C.options.__file="vueapp/components/MeetingAdd.vue";var R=C.exports,M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("MeetingDialog",{attrs:{title:e.$gettext("Aufzeichnungen für Raum")+" "+e.room.name},on:{close:function(t){return e.$emit("cancel")}},scopedSlots:e._u([{key:"content",fn:function(){return[0==Object.keys(e.recording_list).length?r("MessageBox",{attrs:{type:"info"}},[r("translate",[e._v('Keine Aufzeichnungen für Raum "'+e._s(e.room.name)+'" vorhanden')])],1):e._e(),e._v(" "),r("form",{staticClass:"default",staticStyle:{position:"relative"},attrs:{method:"post"}},[Object.keys(e.recording_list).includes("opencast")?r("fieldset",[r("legend",[e._v("Opencast")]),e._v(" "),r("label",[r("a",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"meeting-recording-url",attrs:{target:"_blank",href:e.recording_list.opencast}},[e._v("\n                            Die vorhandenen Aufzeichnungen auf Opencast\n                        ")])])]):e._e(),e._v(" "),Object.keys(e.recording_list).includes("default")&&Object.keys(e.recording_list.default).length?r("fieldset",[r("label",[r("table",{staticClass:"default collapsable"},[r("thead",[r("tr",[r("th",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Datum")]),e._v(" "),r("th",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Aktionen")])])]),e._v(" "),r("tbody",e._l(e.recording_list.default,(function(t,s){return r("tr",{key:s},[r("td",{staticStyle:{width:"60%"}},[e._v(e._s(t.startTime))]),e._v(" "),r("td",{staticStyle:{width:"40%"}},[r("div",{staticStyle:{display:"inline-block",width:"80%"}},[Array.isArray(t.playback.format)?r("div",{staticStyle:{display:"flex","flex-direction":"column"}},e._l(t.playback.format,(function(t,s){return r("a",{key:s,staticClass:"meeting-recording-url",attrs:{target:"_blank",href:t.url}},[r("translate",[e._v("Aufzeichnung ansehen")]),e._v("\n                                                    "+e._s("("+t.type+")")+"\n                                                ")],1)})),0):r("div",[r("a",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"meeting-recording-url",attrs:{target:"_blank",href:t.playback.format.url}},[e._v("\n                                                    Aufzeichnung ansehen\n                                                ")])])]),e._v(" "),e.course_config.display.deleteRecording?r("div",{staticStyle:{display:"inline-block",width:"15%","text-align":"right"}},[r("a",{staticStyle:{cursor:"pointer"},on:{click:function(r){return r.preventDefault(),e.deleteRecording(t)}}},[r("StudipIcon",{attrs:{icon:"trash",role:"attention"}})],1)]):e._e()])])})),0)])])]):e._e()])]},proxy:!0},{key:"buttons",fn:function(){},proxy:!0}])})],1)};M._withStripped=!0;var D={name:"MeetingRecordings",props:["room"],mixins:[w.a],components:{StudipButton:n.a,StudipIcon:c.a,StudipTooltipIcon:_.a,MessageBox:o.a},data:()=>({modal_message:{},message:""}),computed:{...Object(a.b)(["course_config","recording_list","recording"])},mounted(){this.$store.dispatch(d.m,this.room.id)},methods:{deleteRecording(e){this.$store.dispatch(d.l,e),this.$store.dispatch(d.m,e.room_id).then(({data:t})=>{this.$store.commit(N.g,t),t.length||$("button.ui-dialog-titlebar-close").trigger("click");var r=this.rooms_list.find(t=>t.meeting_id==e.room_id);r&&(r.recordings_count=t.length)})}}},A=Object(u.a)(D,M,[],!1,null,null,null);A.options.__file="vueapp/components/MeetingRecordings.vue";var I=A.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("MeetingDialog",{attrs:{title:e.$gettext("Feedback für Raum")+" "+e.room.name},on:{close:function(t){return e.cancelFeedback(t)}},scopedSlots:e._u([{key:"content",fn:function(){return[e.modal_message.text?r("MessageBox",{attrs:{type:e.modal_message.type},on:{hide:function(t){e.modal_message.text=""}}},[e._v("\n                "+e._s(e.modal_message.text)+"\n            ")]):e._e(),e._v(" "),r("form",{staticClass:"default",staticStyle:{"max-width":"50em"},on:{submit:function(t){return t.preventDefault(),e.feedbackFormSubmit(t)}}},[r("fieldset",[r("legend",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                        Beschreibung\n                    ")]),e._v(" "),r("label",{staticClass:"col-6"},[r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Bitte beschreiben Sie das aufgetretene Problem")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.feedback.description,expression:"feedback['description']"}],ref:"feedbackDescription",attrs:{cols:"30",rows:"5"},domProps:{value:e.feedback.description},on:{input:function(t){t.target.composing||e.$set(e.feedback,"description",t.target.value)}}})])]),e._v(" "),r("fieldset",[r("legend",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("\n                        Feedback Informationen\n                    ")]),e._v(" "),r("label",{staticClass:"col-3"},[r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Browser-Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.feedback.browser_name,expression:"feedback['browser_name']",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:e.feedback.browser_name},on:{input:function(t){t.target.composing||e.$set(e.feedback,"browser_name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),r("label",{staticClass:"col-3"},[r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Browser-Version")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.feedback.browser_version,expression:"feedback['browser_version']",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:e.feedback.browser_version},on:{input:function(t){t.target.composing||e.$set(e.feedback,"browser_version",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),r("label",{staticClass:"col-3"},[r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Download-Geschw. (Mbps)")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.feedback.download_speed,expression:"feedback['download_speed']",modifiers:{trim:!0}}],attrs:{type:"number",min:"1"},domProps:{value:e.feedback.download_speed},on:{input:function(t){t.target.composing||e.$set(e.feedback,"download_speed",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),r("label",{staticClass:"col-3"},[r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Upload-Geschw. (Mbps)")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.feedback.upload_speed,expression:"feedback['upload_speed']",modifiers:{trim:!0}}],attrs:{type:"number",min:"1"},domProps:{value:e.feedback.upload_speed},on:{input:function(t){t.target.composing||e.$set(e.feedback,"upload_speed",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),r("label",{staticClass:"col-3"},[r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Netzwerk-Typ")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.feedback.network_type,expression:"feedback['network_type']"}],attrs:{id:"network-type"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.feedback,"network_type",t.target.multiple?r:r[0])}}},e._l(e.network_types,(function(t,s){return r("option",{key:s,domProps:{value:s}},[e._v("\n                                    "+e._s(t)+"\n                            ")])})),0)]),e._v(" "),r("label",{staticClass:"col-3"},[r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Betriebssystem (OS)")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.feedback.os_name,expression:"feedback['os_name']",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:e.feedback.os_name},on:{input:function(t){t.target.composing||e.$set(e.feedback,"os_name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),r("label",{staticClass:"col-3"},[r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Prozessortyp")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.feedback.cpu_type,expression:"feedback['cpu_type']",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:e.feedback.cpu_type},on:{input:function(t){t.target.composing||e.$set(e.feedback,"cpu_type",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),r("label",{staticClass:"col-3"},[r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Alter des Rechners")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.feedback.cpu_old,expression:"feedback['cpu_old']",modifiers:{number:!0}}],attrs:{type:"text"},domProps:{value:e.feedback.cpu_old},on:{input:function(t){t.target.composing||e.$set(e.feedback,"cpu_old",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),r("label",{staticClass:"col-3"},[r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Anzahl der CPU-Kerne")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.feedback.cpu_num,expression:"feedback['cpu_num']",modifiers:{number:!0}}],attrs:{type:"number",min:"1",max:"1000"},domProps:{value:e.feedback.cpu_num},on:{input:function(t){t.target.composing||e.$set(e.feedback,"cpu_num",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),r("label",{staticClass:"col-3"},[r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("RAM (Hauptspeicher) GB")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.feedback.ram,expression:"feedback['ram']",modifiers:{number:!0}}],attrs:{type:"number",min:"1",max:"1000"},domProps:{value:e.feedback.ram},on:{input:function(t){t.target.composing||e.$set(e.feedback,"ram",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])])])]},proxy:!0},{key:"buttons",fn:function(){return[r("StudipButton",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"ui-button ui-corner-all ui-widget",attrs:{icon:"accept",type:"button"},on:{click:function(t){return e.sumbitFeedback(t)}}},[e._v("\n                Einsenden\n            ")]),e._v(" "),r("StudipButton",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"ui-button ui-corner-all ui-widget",attrs:{icon:"cancel",type:"button"},on:{click:function(t){return e.cancelFeedback(t)}}},[e._v("\n                Abbrechen\n            ")])]},proxy:!0}])})],1)};P._withStripped=!0;var F={name:"MeetingFeedback",props:["room"],mixins:[w.a],components:{StudipButton:n.a,StudipIcon:c.a,StudipTooltipIcon:_.a,MessageBox:o.a},data:()=>({modal_message:{},message:""}),computed:{...Object(a.b)(["feedback","network_types"])},mounted(){this.$store.commit(N.e,this.room.id)},methods:{feedbackFormSubmit(e){"Enter"==e.key&&$(e.target).is("input")&&this.sumbitFeedback(e)},sumbitFeedback(e){e&&e.preventDefault(),this.feedback.description?(this.modal_message={},this.$store.dispatch(d.i,this.feedback).then(({data:e})=>{this.message=e.message,this.$store.commit(N.d),"error"==this.message.type?(this.$set(this.modal_message,"type","error"),this.$set(this.modal_message,"text",this.message.text)):this.$emit("done",{message:this.message})}).catch(({error:e})=>{this.$emit("cancel")})):(this.$set(this.modal_message,"type","error"),this.$set(this.modal_message,"text","Beschreibung darf nicht leer sein".toLocaleString()))},cancelFeedback(){this.$store.commit(N.d),this.$emit("cancel")}}},B=Object(u.a)(F,P,[],!1,null,null,null);B.options.__file="vueapp/components/MeetingFeedback.vue";var z=B.exports,T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("MeetingDialog",{attrs:{title:e.$gettext("Gast einladen")},on:{close:function(t){return e.cancelGuest(t)}},scopedSlots:e._u([{key:"content",fn:function(){return[e.modal_message.text?r("MessageBox",{attrs:{type:e.modal_message.type},on:{hide:function(t){e.modal_message.text=""}}},[e._v("\n                "+e._s(e.modal_message.text)+"\n            ")]):e._e(),e._v(" "),r("form",{staticClass:"default",on:{submit:function(t){return t.preventDefault(),e.generateGuestJoin(t)}}},[r("fieldset",[r("label",[r("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"required"},[e._v("Standard-Gästename")]),e._v(" "),r("StudipTooltipIcon",{attrs:{text:e.$gettext("Sofern der Gast keinen Namen eingibt, wird dieser standardmäßig verwendet.")}}),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.guest_name,expression:"guest_name",modifiers:{trim:!0}}],attrs:{type:"text",id:"guestname"},domProps:{value:e.guest_name},on:{change:function(t){return e.generateGuestJoin(t)},input:function(t){t.target.composing||(e.guest_name=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})],1),e._v(" "),e.guest_link?r("label",{attrs:{id:"guest_link_label"}},[r("span",{directives:[{name:"translate",rawName:"v-translate"}]},[e._v("Link")]),e._v(" "),r("StudipTooltipIcon",{attrs:{text:e.$gettext("Bitte geben sie diesen Link dem Gast."),important:!0}}),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.guest_link,expression:"guest_link"}],ref:"guestLinkArea",attrs:{cols:"30",rows:"5"},domProps:{value:e.guest_link},on:{input:function(t){t.target.composing||(e.guest_link=t.target.value)}}})],1):e._e()])])]},proxy:!0},{key:"buttons",fn:function(){return[r("StudipButton",{staticStyle:{display:"none"},attrs:{id:"copy_link_btn",type:"button"},on:{click:function(t){return e.copyGuestLinkClipboard(t)}}},[r("translate",[e._v("In Zwischenablage kopieren")])],1),e._v(" "),r("StudipButton",{attrs:{id:"generate_link_btn",icon:"accept",type:"button"},on:{click:function(t){return e.generateGuestJoin(t)}}},[r("translate",[e._v("Einladungslink erstellen")])],1),e._v(" "),r("StudipButton",{attrs:{icon:"cancel",type:"button"},on:{click:function(t){return e.cancelGuest(t)}}},[r("translate",[e._v("Dialog schließen")])],1)]},proxy:!0}])})],1)};T._withStripped=!0;var E={name:"MeetingGuest",props:["room"],mixins:[w.a],components:{StudipButton:n.a,StudipIcon:c.a,StudipTooltipIcon:_.a,MessageBox:o.a},data:()=>({modal_message:{},message:"",guest_link:"",guest_name:""}),mounted(){this.$store.commit(N.k),this.$store.dispatch(d.r,this.room).then(({data:e})=>{""!=e.default_name&&(this.guest_name=e.default_name)}).catch(({error:e})=>{})},methods:{generateGuestJoin(e){e&&e.preventDefault(),this.room&&this.guest_name&&(this.room.guest_name=this.guest_name,this.$store.dispatch(d.s,this.room).then(({data:e})=>{""!=e.join_url&&(this.guest_link=e.join_url),e.message&&(this.modal_message=e.message)}).catch(({error:e})=>{this.$emit("cancel")}))},cancelGuest(e){e&&e.preventDefault(),this.$store.commit(N.k),this.guest_link="",this.$emit("cancel")},copyGuestLinkClipboard(e){e&&e.preventDefault();let t=this.$refs.guestLinkArea;if(this.guest_link.trim())try{t.select(),document.execCommand("copy"),document.getSelection().removeAllRanges(),this.modal_message={type:"success",text:"Der Link wurde in die Zwischenablage kopiert.".toLocaleString()}}catch(e){console.log(e)}},sonderzeichen(e){const t={Ü:"UE",Ä:"AE",Ö:"OE",ü:"ue",ä:"ae",ö:"oe",ß:"ss"};return e.replace(/[\u00dc|\u00c4|\u00d6][a-z]/g,e=>{const r=t[e.slice(0,1)];return r.charAt(0)+r.charAt(1).toLowerCase()+e.slice(1)}).replace(new RegExp("["+Object.keys(t).join("|")+"]","g"),e=>t[e])}},watch:{guest_link(e,t){""!=e?($("#copy_link_btn").show(),$("#generate_link_btn").hide()):($("#copy_link_btn").hide(),$("#generate_link_btn").show())},guest_name(){this.guest_link=""}}},L=Object(u.a)(E,T,[],!1,null,null,null);L.options.__file="vueapp/components/MeetingGuest.vue";var G=L.exports,U={name:"Course",components:{StudipButton:n.a,MessageBox:o.a,MeetingStatus:f,MeetingComponent:b,MeetingAdd:R,MeetingRecordings:I,MeetingFeedback:z,MeetingGuest:G},computed:{...Object(a.b)(["config","course_config","room","rooms_list","rooms_info","rooms_checked"]),rooms_list_filtered:function(){let e=this;return""!=this.searchtext?this.rooms_list.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e.searchtext.toLowerCase())})):this.rooms_list}},data:()=>({message:null,searchtext:"",createEditRoom:!1,showRecordings:!1,showFeedback:!1,showGuest:!1}),methods:{getRoomList(){this.$store.dispatch(d.t),this.$store.dispatch(d.q)},showEditRoom(e){if(void 0!==this.config[e.driver].features){if(Object.keys(this.config[e.driver].features).includes("record")&&!Object.keys(e.features).includes("giveAccessToRecordings")){var t=this.config[e.driver].features.record.find(e=>"giveAccessToRecordings"==e.name);this.$set(e.features,"giveAccessToRecordings",!t||t.value)}Object.keys(e).includes("group_id")&&null==e.group_id&&(e.group_id="")}this.createEditRoom=e},showMessage(e){this.message=e},showRecording(e){this.showRecordings=e},showFeedbackDialog(e){this.showFeedback=e},showGuestDialog(e){this.showGuest=e},createNewRoom(){this.$store.commit(N.k),this.createEditRoom=this.room},roomEditDone(e){this.createEditRoom=!1,null!=e&&null!=e.message&&this.showMessage(e.message),this.getRoomList()},feedbackDone(e){this.showFeedback=!1,null!=e&&null!=e.message&&this.showMessage(e.message)}},mounted(){i.a.dispatch(d.a,CID),this.getRoomList(),this.interval=setInterval(()=>{this.getRoomList()},3e5)},beforeDestroy(){clearInterval(this.interval)}},q=Object(u.a)(U,s,[],!1,null,null,null);q.options.__file="vueapp/views/Course.vue";t.default=q.exports}}]);